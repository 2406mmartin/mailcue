---
import Layout from '../../layouts/Layout.astro';
import Header from '../../layouts/Header.astro';
import Sidebar from '../../layouts/Sidebar.astro';
import TicketTable from '../../layouts/TicketTable.astro';
import { db } from '../../index';
import { tickets as ticketsTable } from '../../db/schema';

const tickets = await db.select().from(ticketsTable);
---

<Layout title="Mailcue - View">
  <div class="w-full h-screen bg-white flex flex-col">
    <div class="flex flex-row h-full w-full">
      <Sidebar />
      <TicketTable tickets={tickets} />
    </div>
  </div>
</Layout>
